享元模式

1、概念：享元模式是一种用于性能优化的模式

核心是：运用共享技术来有效支持大量细粒度的对象

2、内部状态与外部状态
享元模式要求将对象的属性划分为内部状态和外部状态

享元模式的目标是尽量减少共享对象的数量

如何划分内部状态和外部状态：
1）内部状态存储于对象内部
2）内部状态可以被一些对象共享
3）内部状态独立于具体的场景，通常不会改变
4）外部状态取决于具体的场景，并根据场景变化，外部状态不能被共享

享元模式是一种用时间换空间的优化模式

内部状态有多少种组合，系统中就存在多少个对象

3、享元模式的适用性

1)一个程序中使用了大量的相似对象
2）由于使用了大量对象，造成了很大的内存开销
3）对象的大多数状态可以变为外部状态
4）剥离出对象的外部状态之后，可以用相对较少的共享对象取代大量对象

